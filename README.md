>ë” ë‹¤ì–‘í•œ ë©”ì†Œë“œì™€ ìë°”ìŠ¤í¬ë¦½íŠ¸ ë™ì‘ì„ ìµíˆê¸° ìœ„í•´ ë°”ë‹ë¼ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•´ë³´ê¸°ë¡œ í•˜ì˜€ë‹¤

## ğŸ”®ì§„í–‰ìƒí™©
---

### ğŸ“ƒê¸°ê°„ì€? 3ì¼
### ğŸ’« ëª©í‘œëŠ”? 
 - ë°”ë‹ë¼ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ ë‹¤ì–‘í•œ ë©”ì„œë“œë“¤ì„ ìµíˆê³  í•¨ìˆ˜ ì‘ë™ ë°©ì‹ì„ ê³µë¶€í•  ìˆ˜ ìˆë‹¤. ë˜ ìµìˆ™í•œ ê·¸ë¦¼íŒì„ êµ¬í˜„í•˜ë©´ ë” ì¬ë°Œê²Œ ì½”ë”©í•  ìˆ˜ ìˆë‹¤ê³  ìƒê°í–ˆë‹¤!
 
 
### âš™ ë¬´ì—‡ì„ êµ¬í˜„í•˜ì˜€ë‚˜?
- ìº”ë²„ìŠ¤ì— `ì„ `ì´ ê·¸ë ¤ì§€ê³  ì „ì²´ `ì±„ìš°ê¸°`ë¥¼ í•  ìˆ˜ ìˆë‹¤.
- íŒ”ë ˆíŠ¸ë¥¼ ì´ìš©í•˜ì—¬ ë‹¤ì–‘í•œ ìƒ‰ìƒì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- brushì˜ ë‘ê»˜ë¥¼ ì¡°ì ˆí•  ìˆ˜ ìˆë‹¤. 

<br>


## âœ… êµ¬í˜„ìƒí™©
---
  


### 1) ìº”ë²„ìŠ¤ì— ì„ ì„ ê·¸ë ¤ë³´ì

ë¨¼ì € jsì—ì„œ htmlì˜ `canvas`ì— ì ‘ê·¼í•˜ì—¬ `getContext()`ë¼ëŠ” ë©”ì„œë“œë¥¼ ì‚¬ìš©í•œë‹¤. ì´ ë©”ì„œë“œëŠ” ë“œë¡œì‰ ì»¨í…ìŠ¤íŠ¸ë¥¼ ë°˜í™˜í•œë‹¤. 

íŒŒë¼ë¯¸í„°ë¡œ **contextType**ì´ ë“¤ì–´ì˜¬ ìˆ˜ ìˆëŠ”ë° ì—¬ê¸°ì— **2d**ê°ì²´ë¥¼ ìƒì„±í•˜ì˜€ë‹¤.

```js
const canvas = document.getElementById("jsCanvas");
const ctx = canvas.getContext("2d");


canvas.width = 600;
canvas.height = 600;

```


<br>

ë‹¤ìŒ, ìº”ë²„ìŠ¤ ìœ„ì—ì„œ ë§ˆìš°ìŠ¤ë¥¼ ì›€ì§ì¼ ë•Œ, í´ë¦­ì„ í•˜ë©´ì„œ ê·¸ë ¤ì§ˆ ë–„ë¥¼  **(true)**,
ë§ˆìš°ìŠ¤ê°€ ìº”ë²„ìŠ¤ ìœ„ì—ì„œ ë²—ì–´ë‚  ë•Œ, í´ë¦­í•œ ë§ˆìš°ìŠ¤ì—ì„œ ì†ì„ ë—ì„ ë•Œ **(false)**ë¥¼ ì„¤ì •í•œë‹¤ê³  ìƒê°í•˜ê³  ì´ë²¤íŠ¸ì™€ í•¨ìˆ˜ë¥¼ ì„¤ì •í•´ì£¼ì—ˆë‹¤. 




```js

let painting = false;



function startPainting() {
  painting = true;
  //zí´ë¦­í–ˆì„ë•Œ
}

function stopPainting() {
  painting = false;
  ///í´ë¦­ ì†ì„ ë–¼ì—ˆì„ë•Œ, ìº”ë²„ìŠ¤ë°–ì„ë‚˜ê°”ì„ë•Œ
}

if (canvas) {
  canvas.addEventListener("mousemove", mouseMove);
  canvas.addEventListener("mousedown", startPainting);
  canvas.addEventListener("mouseup", stopPainting);
  canvas.addEventListener("mouseleave", stopPainting);
}
```


<br>

ë³€ìˆ˜ `painting`ì— `false`ë¡œ ì´ˆê¸°ê°’ì„ ì§€ì •í•´ì£¼ì—ˆë‹¤. ì´ ë³€ìˆ˜ëŠ” **ê·¸ë ¤ì§€ëŠ” ì„ **ì„ ê°ì§€í•˜ê¸° ìœ„í•´ ì„¤ì •í•´ì£¼ì—ˆë‹¤. 

**startPainting**ì€ í´ë¦­ì„ í•œ ìƒíƒœë¡œ ê·¸ë ¤ì§ˆ ë•Œë¥¼ ìƒê°í•˜ì—¬ **painting**ì— **true**ê°€ í• ë‹¹ëœë‹¤.
ê·¸ë¦¬ê³  canvasì˜ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆì— **mousedown**ì´ ëœë‹¤ë©´ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜ë¡œ ì¶”ê°€í•˜ì˜€ë‹¤. 

**stopPainting**ì€ í´ë¦­ì„ í•œ ìƒíƒœê°€ ë©ˆì¶°ì§€ê±°ë‚˜ ìº”ë²„ìŠ¤ ë°–ì„ ë²—ì–´ë‚¬ì„ ë•Œë¥¼ ìƒê°í•˜ì—¬ **painting**ì— **false**ê°€ í• ë‹¹ëœë‹¤. ê·¸ë¦¬ê³  ì´ í•¨ìˆ˜ë¥¼ **mouseup**ê³¼**mouseleave** ì˜ ì´ë²¤íŠ¸ê°€ ì¼ì–´ë‚  ë•Œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜ë¡œ ì¶”ê°€í•˜ì˜€ë‹¤. 

í•˜ì§€ë§Œ ì´ ìƒíƒœì—ì„œëŠ” ìº”ë²„ìŠ¤ì— ì–´ë– í•œ ë³€í™”ë„ ì—†ë‹¤. 

ìº”ë²„ìŠ¤ ìœ„ì—ì„œ ë§ˆìš°ìŠ¤ë¥¼ ê°ì§€í•˜ê¸° ìœ„í•´ì„œ ì´ë²¤íŠ¸ë¦¬ìŠ¤ë„ˆ **mousemove**ê°€ ì‹¤í–‰ë  ë•Œ **mouseMove** í•¨ìˆ˜ê°€ ì‹¤í–‰ëœë‹¤.


<br>


ë§ˆìš°ìŠ¤ ì¢Œí‘œë¥¼ ì„¤ì •í•˜ê¸° ìœ„í•´ `event.offsetX`ì™€ `offsetY` ë©”ì„œë“œë¥¼ ê° ë³€ìˆ˜ì— í• ë‹¹í•œë‹¤.
 
 
```js
ctx.strokeStyle = "#2c2c2c";
 
function mouseMove(event) {

  const x = event.offsetX;
  const y = event.offsetY;
  if (!painting) {
    ctx.beginPath();
    //ìƒˆë¡œìš´ì„ ì„ ê·¸ë¦¬ê² ë‹¤ê³  ì„ ì–¸í•¨
    ctx.moveTo(x, y);
    ///ì‹œì‘ì¢Œí‘œë¥¼ ì‹œì‘ì ë‚˜íƒ€ëƒ„
   
  } else {
    ctx.lineTo(x, y);
    // ì¢Œí‘œë¡œ ì–´ë””ê¹Œì§€ ê·¸ë¦¬ëŠ”ì§€ ë‚˜íƒ€ë‚¸ë‹¤
    ctx.stroke();
  }

}

```




- consoleì„ í™•ì¸í•˜ë©´? ![](https://images.velog.io/images/duswn38/post/f0bc8388-2187-486a-b27e-7f5cdffceced/11.PNG)


ìº”ë²„ìŠ¤ ìœ„ì— x,yì¢Œí‘œê°€ ë§ˆêµ¬ ì°íŒë‹¤!

<br>


ê·¸ë¦¬ê³  ì—¬ê¸°ì„œ ifë¬¸ ì‹¤í–‰=> 
ë§Œì•½ì— **paintingì´ false**ë¼ë©´ `ctx.beginPath()`ë©”ì„œë“œì™€ `ctx.moveTo()` ë©”ì„œë“œê°€ ì‹¤í–‰ëœë‹¤. ifê°€ ì‹¤í–‰ë˜ë©´ í™”ë©´ì— ì„ ì´ ê·¸ë ¤ì§€ëŠ” ê²ƒì´ ì•„ë‹ˆê³  ê³„ì†í•´ì„œ ì¢Œí‘œë¥¼ ì¸ì‹ë§Œ í•˜ê³  ìˆëŠ” ìƒíƒœë‹¤! 

ê·¸ë¦¬ê³  **paintingì´ true**ë¼ë©´ `ctx.lineTo()`ë©”ì„œë“œì™€ `ctx.stroke()` ë©”ì„œë“œê°€ ì‹¤í–‰ëœë‹¤. ì—¬ê¸°ì„œ **stroke** ë©”ì„œë“œë¡œ ì¸í•˜ì—¬ í™”ë©´ì— ê·¸ë ¤ì§€ëŠ”ë° ê·¸ë ¤ì§€ëŠ” ì„ ì˜ ìƒ‰ìƒì„ ì´ˆê¸°ê°’ì„ ì„¤ì •í•´ì£¼ì—ˆë‹¤.

<br>

> 
beginPath() 
- ìƒˆ ê²½ë¡œë¥¼ ë§Œë“œëŠ” ë©”ì„œë“œ

>lineTo()
- ì§€ì •ëœ (x,y) ì¢Œí‘œë¡œ ì„ ì„ ì—°ê²°í•˜ëŠ” ë©”ì„œë“œ

> stroke()
- ìœ¤ê³½ì„ ê·¸ë ¤ì£¼ëŠ” ë©”ì„œë“œ


- êµ¬í˜„
![](https://images.velog.io/images/duswn38/post/511f5c02-6458-480f-9427-5ae58959d386/22.PNG)


<br>


### 2) íŒ”ë ˆíŠ¸ì˜ ìƒ‰ìƒê³¼ ë¸ŒëŸ¬ì‰¬í¬ê¸°ë¥¼ ë°”ê¿”ë³´ì

<br>


ë¨¼ì € htmlì—ì„œ ì„¤ì •í•œ íŒ”ë ˆíŠ¸ì™€ rangeíƒ€ì…ìœ¼ë¡œ ì„¤ì •í•œ inputì˜ classëª…ì„ ê°€ì ¸ì˜¨ë‹¤
![](https://images.velog.io/images/duswn38/post/27c27206-b4ff-4ae1-a140-c930df121f05/33.PNG)


- js
```js

const colors = document.getElementsByClassName("jsColor");
const range = document.getElementById("jsRange");


ctx.lineWidth = 2.5;
//ê·¸ë¦¬ëŠ” ë¶“ì˜ ë„ˆë¹„ 2.5ë¡œ ì„¤ì •

```

<br>


- ê·¸ë¦¬ê³  htmlì—ì„œ ê°€ì ¸ì˜¨ í´ë˜ìŠ¤ë¥¼ ë‹´ì€ ë³€ìˆ˜ **colors**ë¥¼ ì½˜ì†”ë¡œ í™•ì¸í•´ ë³¸ë‹¤ë©´?

![](https://images.velog.io/images/duswn38/post/26990fc0-dca2-4498-91bf-6bdebf595cc2/44.PNG)

<br>


**HTML Collection**ìœ¼ë¡œ ê°€ì ¸ì˜¨ë‹¤. ì´ê²ƒì„ arrayë¡œ ë§Œë“¤ê¸° ìœ„í•´ì„œ **array.from()**ë©”ì„œë“œëŠ” ì‚¬ìš©í•œë‹¤.  


- console.log(Array.from(colors)) ì„ í™•ì¸í•´ë³¸ë‹¤ë©´?
![](https://images.velog.io/images/duswn38/post/311cf961-00cc-4d95-8246-02b640432d5c/55.PNG)
<br>


ìœ„ ë©”ì„œë“œëŠ” **obeject**ë¥¼ **array**ë¡œ ë§Œë“ ë‹¤ 
ë§Œë“  ë°°ì—´ì„ **forEach()** ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë°°ì—´ ìš”ì†Œ ê°ê°ì— ëŒ€í•´ `click`ì´ë²¤íŠ¸ê°€ ì¼ì–´ë‚˜ë©´ `changeColor`ê°€ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜ë¥¼ ì¶”ê°€í•´ì£¼ì—ˆë‹¤




```js
Array.from(colors).forEach((color) =>
  color.addEventListener("click", changeColor)
);

```

<br>



**í´ë¦­ ì´ë²¤íŠ¸**ê°€ ì¼ì–´ë‚˜ **chageColor()**ê°€ ì‹¤í–‰ëœë‹¤ë©´?


```jsx
function changeColor(event) {
  /// console.log(event.target.style.backgroundColor); 
  ////ì»¬ëŸ¬ ì½”ë“œê°€ ë‚˜ì˜¨ë‹¤!
  const color = event.target.style.backgroundColor;
  ctx.strokeStyle = color;
}

```


í´ë¦­í•œ í…Œê·¸ì˜ **event.target.style.backgroundColor**ë¥¼ ë³€ìˆ˜ì— ì €ì¥í•´ì¤€ë‹¤. 
ê·¸ë¦¬ê³  ê·¸ ë³€ìˆ˜ë¥¼ **strokeStyle** ìº”ë²„ìŠ¤ì˜ strokeStyleì— í• ë‹¹í•œë‹¤.
ê·¸ëŸ¬ë©´ íŒ”ë ˆíŠ¸ë¥¼ í™œìš©í•˜ì—¬ ìƒ‰ì„ ë°”ê¿€ ìˆ˜ ìˆë‹¤!

<br>

**ë¸ŒëŸ¬ì‰¬ì˜ ê²½ìš°,** ifë¬¸ì„ ì‹¤í–‰í•˜ì—¬ ì´ë²¤íŠ¸ì™€ ì‹¤í–‰ë  í•¨ìˆ˜ë¥¼ ì„¤ì •í•´ì¤€ë‹¤.

```js

function rangeChange(event) {
  const size = event.target.value;
  ctx.lineWidth = size;
}


if (range) {
  range.addEventListener("input", rangeChange);
}
```

inputì—ì„œ ì„ íƒëœ **targetì˜ value**ê°€ **size**ë³€ìˆ˜ì— ì €ì¥ë˜ê³  ì €ì¥ëœ ë³€ìˆ˜ëŠ” **ctx.lineWidth** ìº”ë²„ìŠ¤ì— ê·¸ë ¤ì§€ëŠ” ì„ ì˜ ë‘ê»˜ì— ì €ì¥ëœë‹¤! 

**Brush**ì˜ ê²½ìš° ìµœì†Ÿê°’, ìµœëŒ€ê°’, ì¡°ì ˆë˜ëŠ” ê°’ ìì²´ë¥¼ **html**ì—ì„œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. 

<br>





 


### 3) ğŸ¨'ê·¸ë¦¬ê¸°'ëª¨ë“œì™€ 'ì±„ìš°ê¸°'ëª¨ë“œë¥¼ ì„¤ì •í•´ë³´ì

```js
function modeChange(event) {

  if (filling === true) {
    filling = false;
    mode[0].innerText = "FILL";
    console.log("ifì‹¤í–‰");
    ///PAINTìƒíƒœ true
  } else {
    filling = true;
    mode[0].innerText = "Paint";
    console.log("elseì‹¤í–‰");
    ////FILLìƒíƒœ false
  }
}
```


ifë¬¸ì„ ì‹¤í–‰ë˜ë©´(PAINTë²„íŠ¼ì„ ëˆŒëŸ¿ì„ ë•Œ) paintìƒíƒœë¡œ ì„ ì„ ì‚¬ìš©í•˜ì—¬ ìº”ë²„ìŠ¤ì— ê·¸ë ¤ì§€ë©´ì„œ 
**fillngìƒíƒœë¥¼ falseë¡œ ë³€ê²½í•˜ê³  ë²„íŠ¼ì˜ í…ìŠ¤íŠ¸ë¥¼ "FILL"ë¡œ ë³€ê²½í•œë‹¤.** 

elseê°€ ì‹¤í–‰ë˜ë©´(FILLë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ) ìº”ë²„ìŠ¤ ì „ì²´ë¥¼ ì±„ìš¸ ìˆ˜ ìˆëŠ” ìƒíƒœê°€ ë˜ë©´ì„œ **fillingìƒíƒœë¥¼ trueë¡œ ë³€ê²½í•˜ê³  ë²„íŠ¼ì˜í…ìŠ¤íŠ¸ë¥¼ "PAINT"ë¡œ ë³€ê²½í•œë‹¤**. 

í˜„ì¬ ë‘ ìƒíƒœì—ì„œëŠ” ì„ ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.(**mouseMove**í•¨ìˆ˜ë§Œ ì‹¤í–‰ë˜ê³  ìˆëŠ” ìƒíƒœ!) ìº”ë²„ìŠ¤ë¥¼ ì±„ìš°ê¸° ìœ„í•´ì„  `filling `ìƒíƒœë¥¼ ì‚¬ìš©í•˜ë©´ ê°€ëŠ¥í•˜ë‹¤.


```js
function canvasClick() {
  if (filling) {
    ctx.fillRect(0, 0, 600, 600);
    console.log("gd");
    ///ìº”ë²„ìŠ¤ ì „ì²´ ì±„ì›€
  }
  // ctx.fillRect(0, 0, 600, 600);
}

```

`canvasClick`ì´ë¼ëŠ” í•¨ìˆ˜ì— clickì´ë²¤íŠ¸ë¦¬ìŠ¤ë„ˆë¥¼ ê±¸ì–´ì£¼ê³ , ifë¬¸ì„ ì‘ì„±í•˜ëŠ”ë° **fillingì´ trueì¼ë•Œ, ì´ ìƒíƒœëŠ” ë²„íŠ¼ì´ PAINTë¡œ ë³€ê²½ë˜ë©´ì„œ "ì±„ìš°ê¸°"ë¥¼ í•  ìˆ˜ ìˆëŠ” ìƒíƒœì´ë‹¤.** ê·¸ë¦¬ê³  ``canvas2d.fillRect()`` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ x,yì¢Œí‘œì™€ ìº”ë²„ìŠ¤ì „ì²´(width,height)í¬ê¸°ë¥¼ ì„¤ì •í•´ì£¼ë©´ ìº”ë²„ìŠ¤ì±„ìš°ê¸°ê°€ ê°€ëŠ¥í•˜ë‹¤! 


### 4) saveë²„íŠ¼ì„ ëˆŒëŸ¬ ì´ë¯¸ì§€ ì €ì¥ì„ í•´ë³´ì! 

```js

const save = document.getElementsByClassName("jsSave");

function saveClick() {
  const image = canvas.toDataURL();
  const link = document.createElement("a");
  link.href = image;
  link.download = "ì´ë¯¸ì§€ğŸ¤.png";

  link.click();
}


if (save) {
  save[0].addEventListener("click", saveClick);
}

```

htmlì˜ ë²„íŠ¼ì˜ í´ë˜ìŠ¤ëª…ì„ ê°€ì ¸ì™€ save ë³€ìˆ˜ì— í• ë‹¹í•´ì£¼ì—ˆë‹¤. 

ê·¸ë¦¬ê³  ifë¬¸ì„ ì‹¤í–‰í•˜ì—¬ **click**ì´ë²¤íŠ¸ê°€ ì‹¤í–‰ë˜ë©´ **saveClick**ë¼ëŠ” í•¨ìˆ˜ê°€ ì‹¤í–‰ì´ ëœë‹¤. 

**canvas.toDataURL();** ì´ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ë³´ì 

- ì½˜ì†”ë¡œ í™•ì¸í•´ë³¸ ê²°ê³¼

![](https://images.velog.io/images/duswn38/post/3c598b15-0863-4625-8235-7068162efd7e/%EC%BA%A1%EC%B2%98.PNG)

ì•Œìˆ˜ì—†ëŠ” ì½”ë“œê°€ ë§ˆêµ¬ ì°íŒë‹¤. imgì˜ ë°ì´í„°ë¥¼ linkë¡œ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ì„œ **a**í…Œê·¸ë¥¼ ìƒì„±í•˜ì—¬ **link**ë³€ìˆ˜ì— í• ë‹¹í•´ì£¼ì—ˆë‹¤.

ê·¸ë¦¬ê³  **link(a) href**í…Œê·¸ì— ì•„ê¹Œ ì½˜ì†”ë¡œ í™•ì¸í•œ **toDataURL**ì„ í• ë‹¹í•´ì£¼ì—ˆë‹¤!

**link.download**ëŠ” ë‹¤ìš´ë¡œë“œë  ë•Œì˜ **íŒŒì¼ëª…**ì´ 

ê·¸ë¦¬ê³  **link.click()** ë¥¼ ì„¤ì •í•˜ì—¬ ì´ ë§í¬ê°€ ëˆŒë¦¬ê²Œí•´ì£¼ì—ˆë‹¤. ì‹¤ì œë¡œ í´ë¦­ì´ë²¤íŠ¸ê°€ ì‹¤í–‰ë˜ëŠ” ê±´ ìƒìœ„ì˜ **save**ë²„íŠ¼ì´ë‹¤! 

ê·¸ë¦¼íŒì— ë‚™ì„œí•˜ê³  saveë²„íŠ¼ì„ ëˆ„ë¥´ê³  ë‹¤ìš´ë¡œë“œë¥¼ í™•ì¸í•˜ë©´? 

![](https://images.velog.io/images/duswn38/post/addedc13-efec-4c44-a969-9ee18ccd92da/66.PNG)

ê·€ì—½ê²Œ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ ì„±ê³µ...!â£ğŸ’•
